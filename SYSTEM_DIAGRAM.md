# ðŸ—ï¸ Smart Parking System Architecture - v1.2.0

## ðŸ“Š Complete System Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     SMART PARKING SYSTEM v1.2.0                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   USER INPUTS     â”‚
â”‚   (Sidebar)       â”‚
â”‚                   â”‚
â”‚ â° Hour: 14       â”‚â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ“… Day: Monday    â”‚       â”‚
â”‚ ðŸš— Vehicle: Sedan â”‚       â”‚
â”‚ ðŸ”Œ EV: No         â”‚       â”‚
â”‚ ðŸ…¿ï¸ Spot: (auto)  â”‚       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
                            â”‚
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BOOKING SYSTEM                           â”‚
â”‚                                                             â”‚
â”‚  Generate Dummy Bookings (24 hours Ã— all spots)            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ Hour 0:  25% occupancy (Night)               â”‚         â”‚
â”‚  â”‚ Hour 9:  75% occupancy (Morning Peak)        â”‚         â”‚
â”‚  â”‚ Hour 14: 60% occupancy (Midday)              â”‚         â”‚
â”‚  â”‚ Hour 18: 75% occupancy (Evening Peak)        â”‚         â”‚
â”‚  â”‚ Hour 23: 50% occupancy (Late Evening)        â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                             â”‚
â”‚  Booking Data Structure:                                   â”‚
â”‚  (spot_id, section, hour) â†’ {is_booked, booked_by}        â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    NAVIGATION FLOW                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 1: MAP VIEW
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸ—ºï¸ Satellite Map                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ðŸ“ Downtown Parking Complex   â”‚ â”‚
â”‚  â”‚ Location: City Center         â”‚ â”‚
â”‚  â”‚ Zones: A, B, C, D             â”‚ â”‚
â”‚  â”‚ Capacity: 200 spots           â”‚ â”‚
â”‚  â”‚ [Select]                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â†“
Step 2: SECTION SELECTOR (WITH OCCUPANCY)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸ“Š Showing occupancy for 2:00 PM                           â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ðŸ…¿ï¸ Zone A   â”‚  â”‚ ðŸ…¿ï¸ Zone B   â”‚  â”‚ ðŸ…¿ï¸ Zone C   â”‚  ... â”‚
â”‚  â”‚ 75% Occupied â”‚  â”‚ 62% Occupied â”‚  â”‚ 45% Occupied â”‚     â”‚
â”‚  â”‚ 5 available  â”‚  â”‚ 8 available  â”‚  â”‚ 14 available â”‚     â”‚
â”‚  â”‚ High ðŸ”´      â”‚  â”‚ Medium ðŸŸ     â”‚  â”‚ Low ðŸŸ¢       â”‚     â”‚
â”‚  â”‚ [Select]     â”‚  â”‚ [Select]     â”‚  â”‚ [Select]     â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â†“ (User clicks Zone A - 75% busy)
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš ï¸ SMART SUGGESTION                                        â”‚
â”‚  Zone A is 75% occupied.                                    â”‚
â”‚  Consider Zone C instead - only 45% occupied!               â”‚
â”‚  [Switch to Zone C]  [Stay in Zone A]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â†“ (User stays in Zone A)
                  â”‚
Step 3: SLOT SELECTOR (TIME-BASED AVAILABILITY)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸš— Select Parking Slot - Zone A                            â”‚
â”‚  ðŸŸ¢ Available  ðŸ”´ Occupied  ðŸ”µ Selected                      â”‚
â”‚                                                              â”‚
â”‚  Slot Grid (10 per row):                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ 1  â”‚ 2  â”‚ 3  â”‚ 4  â”‚ 5  â”‚ 6  â”‚ 7  â”‚ 8  â”‚ 9  â”‚ 10 â”‚      â”‚
â”‚  â”‚ðŸŸ¢  â”‚ðŸ”´  â”‚ðŸŸ¢  â”‚ðŸ”´  â”‚ðŸŸ¢  â”‚ðŸ”´  â”‚ðŸ”´  â”‚ðŸŸ¢  â”‚ðŸ”´  â”‚ðŸŸ¢  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ 11 â”‚ 12 â”‚ 13 â”‚ 14 â”‚ 15 â”‚ 16 â”‚ 17 â”‚ 18 â”‚ 19 â”‚ 20 â”‚      â”‚
â”‚  â”‚ðŸŸ¢  â”‚ðŸ”´  â”‚ðŸŸ¢  â”‚ðŸ”´  â”‚ðŸŸ¢  â”‚ðŸ”´  â”‚ðŸŸ¢  â”‚ðŸ”´  â”‚ðŸ”´  â”‚ðŸŸ¢  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜      â”‚
â”‚                                                              â”‚
â”‚  Red = Booked at 2:00 PM by other users                    â”‚
â”‚  Green = Available to book at 2:00 PM                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â†“ (User clicks Slot 5)
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… Selected Slot Information                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ Slot ID: 5  â”‚ Section: A  â”‚ Size: Std   â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                              â”‚
â”‚  Details:                                                    â”‚
â”‚  â€¢ Proximity to Exit: 8.5m                                  â”‚
â”‚  â€¢ Spot Type: Standard                                      â”‚
â”‚  â€¢ EV Charging: No                                          â”‚
â”‚                                                              â”‚
â”‚  [ðŸ“… Proceed to Booking] (Coming Soon)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ”„ Data Flow Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CSV Dataset      â”‚
â”‚   (1000 records)   â”‚
â”‚                    â”‚
â”‚ â€¢ Parking Sections â”‚
â”‚ â€¢ Spot IDs         â”‚
â”‚ â€¢ Occupancy Status â”‚
â”‚ â€¢ Features         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ParkingDataLoader â”‚
â”‚                    â”‚
â”‚ â€¢ get_all_sections â”‚
â”‚ â€¢ get_spots()      â”‚
â”‚ â€¢ get_spot_info()  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â†“                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BookingSystem     â”‚         â”‚   UI Components    â”‚
â”‚                    â”‚         â”‚                    â”‚
â”‚ â€¢ Generate dummy   â”‚         â”‚ â€¢ map_view.py      â”‚
â”‚   bookings         â”‚         â”‚ â€¢ section_sel.py   â”‚
â”‚ â€¢ Calculate occ%   â”‚         â”‚ â€¢ slot_selector.py â”‚
â”‚ â€¢ Find least occ   â”‚         â”‚ â€¢ user_inputs.py   â”‚
â”‚ â€¢ Check if booked  â”‚         â”‚                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                              â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   Session State    â”‚
         â”‚                    â”‚
         â”‚ â€¢ selected_area    â”‚
         â”‚ â€¢ selected_section â”‚
         â”‚ â€¢ selected_slot    â”‚
         â”‚ â€¢ user_inputs      â”‚
         â”‚ â€¢ suggestions      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   Streamlit UI     â”‚
         â”‚   (app.py)         â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸŽ¯ Occupancy Calculation Flow

```
User Input: Hour = 14 (2:00 PM), Section = "Zone A"
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BookingSystem.get_section_occupancy("Zone A", 14)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Get all spots in      â”‚
         â”‚ Zone A from CSV       â”‚
         â”‚ Result: [1,2,3...20]  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Check each spot's     â”‚
         â”‚ booking status at     â”‚
         â”‚ hour 14:              â”‚
         â”‚                       â”‚
         â”‚ Spot 1:  âœ… Booked   â”‚
         â”‚ Spot 2:  âŒ Free     â”‚
         â”‚ Spot 3:  âœ… Booked   â”‚
         â”‚ ...                   â”‚
         â”‚ Total: 15/20 booked   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Calculate:            â”‚
         â”‚ occupancy = 15/20     â”‚
         â”‚ percentage = 75%      â”‚
         â”‚ available = 5         â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Determine color:      â”‚
         â”‚ 75% > 75% â†’ RED ðŸ”´    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Display on UI:        â”‚
         â”‚ Zone A: 75% Occupied  â”‚
         â”‚ 5 spots available     â”‚
         â”‚ Occupancy: High       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ§  Smart Suggestion Logic

```
User selects Zone A (75% occupied)
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Is occupancy > 60%?                   â”‚
â”‚  75% > 60% â†’ YES                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Find least occupied zone at hour 14:  â”‚
â”‚  â€¢ Zone A: 75%                         â”‚
â”‚  â€¢ Zone B: 68%                         â”‚
â”‚  â€¢ Zone C: 45% â† LEAST                 â”‚
â”‚  â€¢ Zone D: 52%                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Is difference > 15%?                  â”‚
â”‚  75% - 45% = 30% > 15% â†’ YES           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Show suggestion:                       â”‚
â”‚  "Zone A is 75% occupied.              â”‚
â”‚   Consider Zone C - only 45%!"         â”‚
â”‚                                         â”‚
â”‚  Store in session_state:               â”‚
â”‚  {                                      â”‚
â”‚    'current_zone': 'Zone A',           â”‚
â”‚    'current_occupancy': 75,            â”‚
â”‚    'suggested_zone': 'Zone C',         â”‚
â”‚    'suggested_occupancy': 45           â”‚
â”‚  }                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Display in Slot Selector:             â”‚
â”‚  âš ï¸ Warning message with buttons       â”‚
â”‚  [Switch to Zone C] [Stay Here]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ“Š Time-Based Occupancy Patterns

```
Occupancy Over 24 Hours:

100% â”¤
 90% â”¤
 80% â”¤      â–ˆâ–ˆ         â–ˆâ–ˆ
 70% â”¤      â–ˆâ–ˆ   â–ˆâ–ˆ    â–ˆâ–ˆ
 60% â”¤      â–ˆâ–ˆ   â–ˆâ–ˆ    â–ˆâ–ˆ
 50% â”¤      â–ˆâ–ˆ   â–ˆâ–ˆ    â–ˆâ–ˆ    â–ˆâ–ˆ
 40% â”¤      â–ˆâ–ˆ   â–ˆâ–ˆ    â–ˆâ–ˆ    â–ˆâ–ˆ
 30% â”¤   â–ˆâ–ˆ â–ˆâ–ˆ   â–ˆâ–ˆ    â–ˆâ–ˆ    â–ˆâ–ˆ
 20% â”¤   â–ˆâ–ˆ â–ˆâ–ˆ   â–ˆâ–ˆ    â–ˆâ–ˆ    â–ˆâ–ˆ â–ˆâ–ˆ
 10% â”¤   â–ˆâ–ˆ â–ˆâ–ˆ   â–ˆâ–ˆ    â–ˆâ–ˆ    â–ˆâ–ˆ â–ˆâ–ˆ
  0% â”¼â”€â”€â”€â”´â”´â”€â”´â”´â”€â”€â”€â”´â”´â”€â”€â”€â”€â”´â”´â”€â”€â”€â”€â”´â”´â”€â”´â”´â”€â”€â”€â”€â”€â”€â”€â”€
     0  4  8  12  16   20   24
     â”‚  â”‚  â”‚   â”‚   â”‚    â”‚    â”‚
     â”‚  â”‚  â”‚   â”‚   â”‚    â”‚    â””â”€ Night (25%)
     â”‚  â”‚  â”‚   â”‚   â”‚    â””â”€ Evening (50%)
     â”‚  â”‚  â”‚   â”‚   â””â”€ Peak PM (75%)
     â”‚  â”‚  â”‚   â””â”€ Midday (60%)
     â”‚  â”‚  â””â”€ Peak AM (75%)
     â”‚  â””â”€ Early (25%)
     â””â”€ Night (25%)
```

## ðŸ”Œ API Functions Available

```python
# BookingSystem API

# 1. Check if specific spot is booked
is_booked = booking_system.is_spot_booked(
    spot_id=12,
    section="Zone A",
    hour=14
)
â†’ True/False

# 2. Get section occupancy
occupancy = booking_system.get_section_occupancy(
    section="Zone A",
    hour=14
)
â†’ {
    'total_spots': 20,
    'booked_spots': 15,
    'available_spots': 5,
    'occupancy_percentage': 75.0
}

# 3. Get all sections occupancy
all_occ = booking_system.get_all_sections_occupancy(hour=14)
â†’ {
    "Zone A": {...},
    "Zone B": {...},
    "Zone C": {...},
    "Zone D": {...}
}

# 4. Find least occupied section
least = booking_system.get_least_occupied_section(hour=14)
â†’ ("Zone C", 45.0)

# 5. Get available spots list
available = booking_system.get_available_spots_in_section(
    section="Zone A",
    hour=14
)
â†’ [1, 3, 5, 8, 15, 20]

# 6. Detect occupancy trend
trend = booking_system.get_occupancy_trend(
    section="Zone A",
    current_hour=14
)
â†’ "rising" | "falling" | "stable"
```

## ðŸ—‚ï¸ File Structure

```
parking/
â”‚
â”œâ”€â”€ ðŸ“„ app.py                    # Main application
â”‚   â””â”€ Integrates BookingSystem
â”‚   â””â”€ Passes selected_hour to components
â”‚
â”œâ”€â”€ ðŸ“‚ src/
â”‚   â”‚
â”‚   â”œâ”€â”€ ðŸ“‚ data/
â”‚   â”‚   â”œâ”€â”€ data_loader.py       # CSV data handling
â”‚   â”‚   â””â”€â”€ booking_system.py    # âœ¨ NEW: Time-based bookings
â”‚   â”‚
â”‚   â”œâ”€â”€ ðŸ“‚ components/
â”‚   â”‚   â”œâ”€â”€ map_view.py          # Satellite map
â”‚   â”‚   â”œâ”€â”€ section_selector.py  # âœ¨ UPDATED: Shows occupancy %
â”‚   â”‚   â”œâ”€â”€ slot_selector.py     # âœ¨ UPDATED: Time-based slots
â”‚   â”‚   â””â”€â”€ user_inputs.py       # User input form
â”‚   â”‚
â”‚   â””â”€â”€ ðŸ“‚ utils/
â”‚       â””â”€â”€ helpers.py            # Session state helpers
â”‚
â”œâ”€â”€ ðŸ“‚ resources/
â”‚   â””â”€â”€ IIoT_Smart_Parking_Management (2).csv
â”‚
â””â”€â”€ ðŸ“š Documentation/
    â”œâ”€â”€ README.md
    â”œâ”€â”€ QUICKSTART.md
    â”œâ”€â”€ ML_INTEGRATION_GUIDE.md
    â”œâ”€â”€ TIME_BASED_OCCUPANCY_GUIDE.md  # âœ¨ NEW
    â”œâ”€â”€ WHATS_NEW_v1.2.0.md            # âœ¨ NEW
    â””â”€â”€ SYSTEM_DIAGRAM.md              # âœ¨ NEW (This file)
```

## ðŸŽ¯ Key Connections

### 1. User Input â†’ Occupancy Display
```
Sidebar: User selects Hour = 14
    â†“
app.py: selected_hour = user_inputs.get('hour')
    â†“
section_selector.py: Shows occupancy for hour 14
```

### 2. Zone Selection â†’ Smart Suggestion
```
User clicks "Zone A"
    â†“
Check: occupancy > 60%?
    â†“
Yes: Find least occupied zone
    â†“
Store suggestion in session_state
    â†“
slot_selector.py: Display warning with switch button
```

### 3. Slot Display â†’ Booking Status
```
User in slot selector, hour = 14
    â†“
For each spot: Check is_spot_booked(spot_id, section, 14)
    â†“
True: Display RED (occupied)
False: Display GREEN (available)
```

## ðŸ“ˆ Scalability

### Current (v1.2.0):
```python
# Dummy data in memory
bookings = generate_dummy_bookings()  # All hours Ã— all spots
```

### Future (Database):
```python
# Query from database
def get_bookings_for_hour(hour):
    return db.query("""
        SELECT spot_id, section, hour
        FROM bookings
        WHERE booking_hour = ? AND booking_date = ?
    """, hour, today)
```

### Migration Path:
1. âœ… Current: In-memory dummy data
2. â†’ SQLite: Local database file
3. â†’ PostgreSQL: Production database
4. â†’ Redis: Caching layer
5. â†’ API: Microservice architecture

---

**Version:** 1.2.0
**Architecture:** Clean, Modular, Scalable
**Ready for:** ML Integration & Real Database

